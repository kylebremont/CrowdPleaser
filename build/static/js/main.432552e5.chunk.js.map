{"version":3,"sources":["serviceWorker.js","config.js","components/Song.js","components/Search.js","components/Queue.js","components/Playback.js","components/GuestPlayback.js","components/JoinOrCreate.js","components/PlaylistItem.js","components/Playlists.js","components/Login.js","App.js","hash.js","index.js"],"names":["Boolean","window","location","hostname","match","apiUrl","Song","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","name","data","artist","uri","image","duration","votes","voted","_this2","react_default","a","createElement","style","cursor","onClick","getSongUri","className","id","src","alt","Component","Search","player","searchValue","songs","searchSpotify","bind","assertThisInitialized","handleChange","spotify","Spotify","secret","undefined","search","type","query","err","console","log","i","song","tracks","items","push","artists","duration_ms","album","images","url","setState","event","target","value","preventDefault","songInfo","addToQueue","_this3","onSubmit","handleEnter","placeholder","onChange","borderRadius","map","Song_Song","key","Queue","current_song","queue","isPlaying","party","isHost","memberId","enqueue","dequeue","GetQueue","GetCurrentlyPlaying","HandleVote","playSong","fetch","concat","method","body","JSON","stringify","headers","Content-Type","catch","error","then","response","json","length","upNext","shift","_this4","_this5","_this6","_this7","esm","Provider","color","index_esm","size","Playback","token","access_code","progress","isOn","start","connectToSpotify","playTrack","setSong","getNextSong","startTimer","stopTimer","resetTimer","Date","now","timer","setInterval","clearInterval","script","document","async","appendChild","skipped","timePlayed","requestSong","_ref","spotify_uri","_ref$playerInstance$_","playerInstance","_options","getOAuthToken","setTimeout","uris","access_token","Authorization","play","onSpotifyWebPlaybackSDKReady","Player","callback","volume","addListener","_ref2","device_id","connect","bs_index_esm","es","percent","strokeWidth","strokeColor","trailColor","GuestPlayback","res","JoinOrCreate","isGuest","errorMessage","createParty","joinParty","setParty","party_id","member_id","statusCode","fontWeight","display","textDecoration","e","PlaylistItem","GetTracks","Playlists","playlists","display_tracks","GetPlaylists","playlist","trackInfo","track","io_index_esm","PlaylistItem_PlaylistItem","Login","href","guestLogin","App","loggedIn","queueElement","React","createRef","playbackElement","_token","hashParams","r","q","hash","substring","exec","decodeURIComponent","getHashParams","current","Login_Login","JoinOrCreate_JoinOrCreate","react_tabs_esm","forceRenderTabPanel","Queue_Queue","ref","Search_Search","Playlists_Playlists","Playback_Playback","GuestPlayback_GuestPlayback","routing","react_router_dom","react_router","exact","path","component","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.432552e5.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const apiUrl = 'http://35.232.73.166:3500/';\nexport const clientId = '5c24a8e608774631812a8325b2b4057a';\nexport const secret = '4837b819f7cd4cae8f4685c3b7906e5e';\n","import React, { Component } from 'react';\nimport '../styles/Song.css';\n\nexport default class Song extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tname: props.data.name,\n\t\t\tartist: props.data.artist,\n\t\t\turi: props.data.uri,\n\t\t\timage: props.data.image,\n\t\t\tduration: props.data.duration,\n\t\t\tvotes: 0,\n\t\t\tvoted: []\n\t\t};\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.props.getSongUri(this.state);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-4 text-right\" id=\"over\">\n\t\t\t\t\t\t<img src={this.state.image} alt=\"album cover\" className=\"imgz\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"song-title\">{this.state.name}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"song-artist\">{this.state.artist}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport Spotify from 'node-spotify-api';\nimport { clientId, secret } from '../config';\nimport Song from './Song';\nimport '../styles/Song.css';\n\nexport default class Search extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tplayer: null,\n\t\t\tsearchValue: '',\n\t\t\tsongs: []\n\t\t};\n\t\tthis.searchSpotify = this.searchSpotify.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.getSongUri = this.getSongUri.bind(this);\n\t}\n\n\tsearchSpotify() {\n\t\tvar spotify = new Spotify({\n\t\t\tid: clientId,\n\t\t\tsecret: secret\n\t\t});\n\t\tif (this.state.searchValue === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tspotify.search({ type: 'track', query: this.state.searchValue }, (err, data) => {\n\t\t\tif (err) {\n\t\t\t\treturn console.log(err);\n\t\t\t}\n\t\t\tvar songs = [];\n\t\t\tfor (let i = 0; i < 20; i++) {\n\t\t\t\tlet song = data.tracks.items[i];\n\t\t\t\tsongs.push({\n\t\t\t\t\tname: song.name,\n\t\t\t\t\tartist: song.artists[0].name,\n\t\t\t\t\turi: song.uri,\n\t\t\t\t\tduration: song.duration_ms,\n\t\t\t\t\timage: song.album.images[0].url\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.setState({ songs });\n\t\t});\n\t}\n\n\thandleChange(event) {\n\t\tif (event.target.value === '') {\n\t\t\tthis.setState({ songs: undefined });\n\t\t\treturn;\n\t\t}\n\t\tthis.setState({ searchValue: event.target.value, songs: [] }, this.searchSpotify);\n\t}\n\n\thandleEnter(event) {\n\t\tevent.preventDefault();\n\t}\n\n\tgetSongUri(songInfo) {\n\t\tthis.props.addToQueue(songInfo);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"container\">\n\t\t\t\t<div className=\"upper-row\">\n\t\t\t\t\t<form onSubmit={this.handleEnter}>\n\t\t\t\t\t\t<div className=\"searchbox\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"song\"\n\t\t\t\t\t\t\t\tplaceholder=\"enter a song or artist\"\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\tstyle={{ borderRadius: '3px' }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"scrollable\">\n\t\t\t\t\t{this.state.songs !== undefined &&\n\t\t\t\t\t\tthis.state.songs.map((song, i) => {\n\t\t\t\t\t\t\treturn <Song key={i} data={song} getSongUri={this.getSongUri} />;\n\t\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport { IconContext } from 'react-icons';\nimport { FiRefreshCw } from 'react-icons/fi';\nimport { apiUrl } from './../config';\nimport '../styles/Queue.css';\n\nexport default class Queue extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tcurrent_song: null,\n\t\t\tqueue: [],\n\t\t\tisPlaying: false,\n\t\t\tparty: props.party,\n\t\t\tisHost: props.isHost,\n\t\t\tmemberId: props.memberId\n\t\t};\n\t\tthis.enqueue = this.enqueue.bind(this);\n\t\tthis.dequeue = this.dequeue.bind(this);\n\t\tthis.GetQueue = this.GetQueue.bind(this);\n\t\tthis.GetCurrentlyPlaying = this.GetCurrentlyPlaying.bind(this);\n\t\tthis.HandleVote = this.HandleVote.bind(this);\n\t}\n\n\tenqueue(song) {\n\t\t// first time song is selected, start playing and don't add to queue\n\t\tif (!this.state.isPlaying && this.state.isHost) {\n\t\t\tthis.setState({ isPlaying: true }, () => this.props.playSong(song));\n\t\t} else {\n\t\t\tfetch(`${apiUrl}queue_song?party_code=${this.state.party}`, {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tbody: JSON.stringify(song),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error('Error:', error);\n\t\t\t\t})\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.setState({ queue: response });\n\t\t\t\t});\n\t\t\t// this.setState({ queue });\n\t\t}\n\t}\n\n\tdequeue() {\n\t\tif (this.state.queue.length === 0) {\n\t\t\t// if there is nothing in the queue, set isPlaying to false for next song choice\n\t\t\t// this.setState({ current_song: queue[0] });\n\t\t\tthis.setState({ isPlaying: false });\n\t\t} else {\n\t\t\tvar queue = this.state.queue;\n\t\t\tthis.setState({ current_song: queue[0] });\n\t\t\tvar upNext = queue.shift();\n\t\t\tconsole.log(upNext);\n\n\t\t\tfetch(`${apiUrl}dequeue_song?party_code=${this.state.party}`, {\n\t\t\t\tmethod: 'PUT'\n\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error('Error:', error);\n\t\t\t\t})\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.setState({ queue: response }, () => this.props.playSong(upNext));\n\t\t\t\t});\n\t\t}\n\t}\n\n\tGetQueue(dequeue) {\n\t\tfetch(`${apiUrl}queue?party_code=${this.state.party}`)\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((response) => {\n\t\t\t\tif (dequeue) {\n\t\t\t\t\tthis.setState({ queue: response }, () => this.dequeue());\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ queue: response });\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tGetCurrentlyPlaying() {\n\t\tfetch(`${apiUrl}currently_playing?party_code=${this.state.party}`)\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((response) => {\n\t\t\t\tif (response.length !== 0) {\n\t\t\t\t\tthis.setState({ current_song: response, isPlaying: true });\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tHandleVote(uri) {\n\t\tvar song = null;\n\t\tfor (let i = 0; i < this.state.queue.length; i++) {\n\t\t\tif (uri === this.state.queue[i].uri) {\n\t\t\t\tsong = this.state.queue[i];\n\t\t\t}\n\t\t}\n\n\t\tfetch(`${apiUrl}vote?party_code=${this.state.party}&member_id=${this.state.memberId}`, {\n\t\t\tmethod: 'PUT',\n\t\t\tbody: JSON.stringify({ uri: song.uri }),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState({ queue: response });\n\t\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.GetQueue(false);\n\t\tthis.GetCurrentlyPlaying();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"Queue\">\n\t\t\t\t\t<div className=\"upper-row\">\n\t\t\t\t\t\t<div onClick={() => this.GetQueue(false)}>\n\t\t\t\t\t\t\t<IconContext.Provider value={{ color: 'white', className: 'refresh-button' }}>\n\t\t\t\t\t\t\t\t<FiRefreshCw size={30} />\n\t\t\t\t\t\t\t</IconContext.Provider>\n\t\t\t\t\t\t\t&nbsp;refresh\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{this.state.queue.length === 0 && (\n\t\t\t\t\t\t\t<div className=\"queue-warning\">search for songs to add to queue.</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"scrollable\">\n\t\t\t\t\t\t{this.state.queue !== undefined &&\n\t\t\t\t\t\t\tthis.state.queue.map((song, i) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tthis.HandleVote(song.uri);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-4 text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={song.image} alt=\"album cover\" className=\"imgz\" />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"song-title\">{song.name}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"song-artist\">{song.artist}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"votes\">votes: {song.votes}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport { BsFillSkipEndFill, BsFillPlayFill, BsFillPauseFill } from 'react-icons/bs';\nimport { IconContext } from 'react-icons';\nimport { Line } from 'rc-progress';\nimport { apiUrl } from './../config';\nimport '../styles/Playback.css';\n\nexport default class Playback extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tparty: props.party,\n\t\t\ttoken: props.access_code,\n\t\t\tplayer: null,\n\t\t\tsong: {\n\t\t\t\tname: null,\n\t\t\t\turi: null,\n\t\t\t\tduration: null,\n\t\t\t\timage: null,\n\t\t\t\tartist: null\n\t\t\t},\n\t\t\tisPlaying: true,\n\t\t\t// timer stuff\n\t\t\tprogress: 0,\n\t\t\tisOn: false,\n\t\t\tstart: 0\n\t\t};\n\t\tthis.connectToSpotify = this.connectToSpotify.bind(this);\n\t\tthis.playTrack = this.playTrack.bind(this);\n\t\tthis.setSong = this.setSong.bind(this);\n\t\tthis.getNextSong = this.getNextSong.bind(this);\n\t\t// timer stuff\n\t\tthis.startTimer = this.startTimer.bind(this);\n\t\tthis.stopTimer = this.stopTimer.bind(this);\n\t\tthis.resetTimer = this.resetTimer.bind(this);\n\t}\n\n\tstartTimer() {\n\t\tthis.setState({\n\t\t\tisOn: true,\n\t\t\tprogress: this.state.progress,\n\t\t\tstart: Date.now() - this.state.progress\n\t\t});\n\t\tthis.timer = setInterval(\n\t\t\t() =>\n\t\t\t\tthis.setState({\n\t\t\t\t\tprogress: Date.now() - this.state.start\n\t\t\t\t}),\n\t\t\t1\n\t\t);\n\t}\n\n\tstopTimer() {\n\t\tthis.setState({ isOn: false });\n\t\tclearInterval(this.timer);\n\t}\n\n\tresetTimer() {\n\t\tthis.setState({ progress: 0, isOn: false });\n\t}\n\n\tcomponentDidMount() {\n\t\tconst script = document.createElement('script');\n\n\t\tscript.src = 'https://sdk.scdn.co/spotify-player.js';\n\t\tscript.async = true;\n\n\t\tdocument.body.appendChild(script);\n\t}\n\n\tgetNextSong(skipped) {\n\t\tvar timePlayed = this.state.progress;\n\n\t\tconsole.log(this.state.song.duration);\n\t\tconsole.log(timePlayed);\n\t\tif ((this.state.isPlaying && this.state.song.duration <= timePlayed + 10) || skipped) {\n\t\t\tthis.stopTimer();\n\t\t\tthis.resetTimer();\n\t\t\t// fetch song from queue\n\t\t\tconsole.log('requesting song');\n\t\t\tthis.props.requestSong();\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n\n\tplayTrack() {\n\t\tconst play = ({ spotify_uri, playerInstance: { _options: { getOAuthToken, id } } }) => {\n\t\t\tvar body;\n\t\t\tvar url;\n\t\t\tif (this.state.isPlaying) {\n\t\t\t\tthis.startTimer();\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.getNextSong(false);\n\t\t\t\t}, this.state.song.duration - this.state.progress);\n\t\t\t\turl = `https://api.spotify.com/v1/me/player/play?device_id=${id}`;\n\t\t\t\tbody = { uris: [spotify_uri] };\n\t\t\t\tif (this.state.progress > 0) {\n\t\t\t\t\tbody['position_ms'] = this.state.progress;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.stopTimer();\n\t\t\t\turl = `https://api.spotify.com/v1/me/player/pause?device_id=${id}`;\n\t\t\t\tbody = { uris: [spotify_uri] };\n\t\t\t}\n\n\t\t\tgetOAuthToken((access_token) => {\n\t\t\t\tfetch(url, {\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tbody: JSON.stringify(body),\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\tAuthorization: `Bearer ${access_token}`\n\t\t\t\t\t}\n\t\t\t\t}).catch((error) => {\n\t\t\t\t\tconsole.error('Error:', error);\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tplay({\n\t\t\tplayerInstance: this.state.player,\n\t\t\tspotify_uri: this.state.song.uri\n\t\t});\n\t}\n\n\tsetSong(song) {\n\t\tfetch(`${apiUrl}change_playing?party_code=${this.state.party}`, {\n\t\t\tmethod: 'PUT',\n\t\t\tbody: JSON.stringify(song),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState({ song: response }, () => this.playTrack());\n\t\t\t});\n\t}\n\n\tconnectToSpotify() {\n\t\twindow.onSpotifyWebPlaybackSDKReady = () => {\n\t\t\t// Define the Spotify Connect device, getOAuthToken has an actual token\n\t\t\t// hardcoded for the sake of simplicity\n\t\t\tvar player = new window.Spotify.Player({\n\t\t\t\tname: 'A Spotify Web SDK Player',\n\t\t\t\tgetOAuthToken: (callback) => {\n\t\t\t\t\t// this token has to be gotten from the stupid fucking link: https://developer.spotify.com/documentation/web-playback-sdk/quick-start/\n\t\t\t\t\tcallback(this.state.token);\n\t\t\t\t},\n\t\t\t\tvolume: 1\n\t\t\t});\n\n\t\t\t// Called when connected to the player created beforehand successfully\n\t\t\tplayer.addListener('ready', ({ device_id }) => {\n\t\t\t\tconsole.log('Ready with Device ID', device_id);\n\n\t\t\t\tvar data = {};\n\t\t\t\tdata[device_id] = this.state.access_code;\n\n\t\t\t\tthis.setState({ player });\n\t\t\t});\n\n\t\t\t// Connect to the player created beforehand, this is equivalent to\n\t\t\t// creating a new device which will be visible for Spotify Connect\n\t\t\tplayer.connect();\n\t\t};\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"footer\">\n\t\t\t\t\t{this.connectToSpotify()}\n\t\t\t\t\t{this.state.song.name && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t\t\t\t<img src={this.state.song.image} id=\"playback-thumbnail\" alt=\"album cover\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t{this.state.song.name}\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t{this.state.song.artist}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col\" id=\"playpausebutton\">\n\t\t\t\t\t\t\t\t\t{/* this.setState({ isPlaying: !this.state.isPlaying }, () => this.playTrack()) */}\n\n\t\t\t\t\t\t\t\t\t<IconContext.Provider value={{ color: 'white', className: 'playpause-button' }}>\n\t\t\t\t\t\t\t\t\t\t{this.state.isPlaying ? (\n\t\t\t\t\t\t\t\t\t\t\t<BsFillPauseFill\n\t\t\t\t\t\t\t\t\t\t\t\tsize={60}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ isPlaying: !this.state.isPlaying }, () =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.playTrack()\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<BsFillPlayFill\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize={60}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ isPlaying: !this.state.isPlaying }, () =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.playTrack()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</IconContext.Provider>\n\n\t\t\t\t\t\t\t\t\t<IconContext.Provider value={{ color: 'white', className: 'skip-button' }}>\n\t\t\t\t\t\t\t\t\t\t<BsFillSkipEndFill size={60} onClick={() => this.getNextSong(true)} />\n\t\t\t\t\t\t\t\t\t</IconContext.Provider>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Line\n\t\t\t\t\t\t\t\tpercent={this.state.progress / this.state.song.duration * 100}\n\t\t\t\t\t\t\t\tstrokeWidth=\"0.5\"\n\t\t\t\t\t\t\t\tstrokeColor=\"#E397E3\"\n\t\t\t\t\t\t\t\ttrailColor=\"gray\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport { Line } from 'rc-progress';\nimport '../styles/Playback.css';\nimport { apiUrl } from './../config';\n\nexport default class GuestPlayback extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tparty: props.party,\n\t\t\ttoken: props.access_code,\n\t\t\tplayer: null,\n\t\t\tsong: {\n\t\t\t\tname: null,\n\t\t\t\turi: null,\n\t\t\t\tduration: null,\n\t\t\t\timage: null,\n\t\t\t\tartist: null\n\t\t\t},\n\t\t\tisPlaying: true,\n\t\t\t// timer stuff\n\t\t\tprogress: 0,\n\t\t\tisOn: false,\n\t\t\tstart: 0\n\t\t};\n\t\tthis.setSong = this.setSong.bind(this);\n\t\tthis.getNextSong = this.getNextSong.bind(this);\n\t\tthis.GetCurrentlyPlaying = this.GetCurrentlyPlaying.bind(this);\n\t\t// timer stuff\n\t\tthis.startTimer = this.startTimer.bind(this);\n\t\tthis.stopTimer = this.stopTimer.bind(this);\n\t\tthis.resetTimer = this.resetTimer.bind(this);\n\t}\n\n\tstartTimer() {\n\t\tthis.setState({\n\t\t\tisOn: true,\n\t\t\tprogress: this.state.progress,\n\t\t\tstart: Date.now() - this.state.progress\n\t\t});\n\t\tthis.timer = setInterval(\n\t\t\t() =>\n\t\t\t\tthis.setState({\n\t\t\t\t\tprogress: Date.now() - this.state.start\n\t\t\t\t}),\n\t\t\t1\n\t\t);\n\t}\n\n\tstopTimer() {\n\t\tthis.setState({ isOn: false });\n\t\tclearInterval(this.timer);\n\t}\n\n\tresetTimer() {\n\t\tthis.setState({ progress: 0, isOn: false });\n\t}\n\n\tGetCurrentlyPlaying() {\n\t\tfetch(`${apiUrl}currently_playing?party_code=${this.state.party}`).then((res) => res.json()).then(\n\t\t\t(res) => {\n\t\t\t\tthis.setState({ song: res });\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tconsole.error(error);\n\t\t\t}\n\t\t);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.GetCurrentlyPlaying();\n\t}\n\n\tgetNextSong(skipped) {\n\t\tvar timePlayed = this.state.progress;\n\n\t\tconsole.log(this.state.song.duration);\n\t\tconsole.log(timePlayed);\n\t\tif ((this.state.isPlaying && this.state.song.duration <= timePlayed + 10) || skipped) {\n\t\t\tthis.stopTimer();\n\t\t\tthis.resetTimer();\n\t\t\t// fetch song from queue\n\t\t\tconsole.log('requesting song');\n\t\t\tthis.props.requestSong();\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n\n\tsetSong(song) {\n\t\tthis.setState({ song });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<footer className=\"footer\">\n\t\t\t\t\t{this.state.song.name && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t\t\t\t<img src={this.state.song.image} id=\"playback-thumbnail\" alt=\"album cover\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t{this.state.song.name}\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t{this.state.song.artist}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Line\n\t\t\t\t\t\t\t\tpercent={this.state.progress / this.state.song.duration * 100}\n\t\t\t\t\t\t\t\tstrokeWidth=\"0.5\"\n\t\t\t\t\t\t\t\tstrokeColor=\"green\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport { apiUrl } from './../config';\nimport '../styles/JoinOrCreate.css';\n\nexport default class JoinOrCreate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\turl: apiUrl,\n\t\t\taccess_token: props.access_token,\n\t\t\tisGuest: props.isGuest,\n\t\t\tsearchValue: null,\n\t\t\terrorMessage: false\n\t\t};\n\t\tthis.createParty = this.createParty.bind(this);\n\t\tthis.joinParty = this.joinParty.bind(this);\n\t}\n\n\tcreateParty() {\n\t\tvar data = {};\n\t\tdata['access_token'] = this.state.access_token;\n\n\t\tvar endpoint = 'create_party';\n\t\tfetch(this.state.url + endpoint, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify(data),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\tAuthorization: `Bearer ${this.state.access_token}`\n\t\t\t}\n\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((response) => {\n\t\t\t\tthis.props.setParty(response.party_id, true, response.member_id);\n\t\t\t});\n\t}\n\n\tjoinParty() {\n\t\tvar endpoint = 'join_party';\n\t\tvar query = '?party_code=' + this.state.searchValue;\n\t\tfetch(this.state.url + endpoint + query, {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\tAuthorization: `Bearer ${this.state.access_token}`\n\t\t\t}\n\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((response) => {\n\t\t\t\tif (response.statusCode === 200) {\n\t\t\t\t\tthis.props.setParty(this.state.searchValue, false, response.member_id);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: true });\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"JoinOrCreate\">\n\t\t\t\t<div id=\"header\">\n\t\t\t\t\twelcome to crowdpleaser! <br />\n\t\t\t\t\tif you have a party code enter it below\n\t\t\t\t\t{!this.state.isGuest && (\n\t\t\t\t\t\t<div id=\"create\">\n\t\t\t\t\t\t\tor{' '}\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\t\t\tdisplay: 'inline',\n\t\t\t\t\t\t\t\t\ttextDecoration: 'underline'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={this.createParty}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tclick here to create your own party\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div id=\"join\">\n\t\t\t\t\t<div id=\"inputBox\">\n\t\t\t\t\t\t<input onChange={(e) => this.setState({ searchValue: e.target.value })} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<a className=\"button\" style={{ cursor: 'pointer', color: 'black' }} onClick={this.joinParty}>\n\t\t\t\t\t\tjoin party\n\t\t\t\t\t</a>\n\t\t\t\t\t{this.state.errorMessage && <div id=\"error\">invalid party code</div>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport '../styles/Song.css';\n\nexport default class PlaylistItem extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tname: props.data.name,\n\t\t\timage: props.data.image,\n\t\t\tid: props.data.id\n\t\t};\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.props.GetTracks(this.state.id);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-4 text-right\">\n\t\t\t\t\t\t<img src={this.state.image} alt=\"album cover\" className=\"imgz\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"song-title\">{this.state.name}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport PlaylistItem from './PlaylistItem';\nimport Song from './Song';\nimport { IoIosArrowBack } from 'react-icons/io';\nimport { IconContext } from 'react-icons';\nimport '../styles/Playlists.css';\n\nexport default class Playlists extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\taccess_token: props.access_token,\n\t\t\tisGuest: props.isGuest,\n\t\t\tplaylists: [],\n\t\t\ttracks: [],\n\t\t\tdisplay_tracks: false\n\t\t};\n\n\t\tthis.GetPlaylists = this.GetPlaylists.bind(this);\n\t\tthis.GetTracks = this.GetTracks.bind(this);\n\t\tthis.getSongUri = this.getSongUri.bind(this);\n\t}\n\n\tGetPlaylists() {\n\t\tfetch(`https://api.spotify.com/v1/me/playlists`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${this.state.access_token}`\n\t\t\t}\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then(\n\t\t\t\t(res) => {\n\t\t\t\t\tlet playlists = [];\n\t\t\t\t\tfor (let i = 0; i < res.items.length; i++) {\n\t\t\t\t\t\tlet playlist = {\n\t\t\t\t\t\t\tid: res.items[i].id,\n\t\t\t\t\t\t\timage: res.items[i].images[0].url,\n\t\t\t\t\t\t\tname: res.items[i].name\n\t\t\t\t\t\t};\n\t\t\t\t\t\tplaylists.push(playlist);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ playlists });\n\t\t\t\t},\n\t\t\t\t(error) => {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t}\n\t\t\t);\n\t}\n\n\tGetTracks(id) {\n\t\tfetch(`https://api.spotify.com/v1/playlists/${id}/tracks`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${this.state.access_token}`\n\t\t\t}\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then(\n\t\t\t\t(res) => {\n\t\t\t\t\tlet tracks = [];\n\t\t\t\t\tfor (let i = 0; i < res.items.length; i++) {\n\t\t\t\t\t\tlet trackInfo = res.items[i].track;\n\t\t\t\t\t\tlet track = {\n\t\t\t\t\t\t\tname: trackInfo.name,\n\t\t\t\t\t\t\tartist: trackInfo.album.artists[0].name,\n\t\t\t\t\t\t\timage: trackInfo.album.images[0].url,\n\t\t\t\t\t\t\tduration: trackInfo.duration_ms,\n\t\t\t\t\t\t\turi: trackInfo.uri\n\t\t\t\t\t\t};\n\t\t\t\t\t\ttracks.push(track);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ tracks, display_tracks: true });\n\t\t\t\t},\n\t\t\t\t(error) => {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t}\n\t\t\t);\n\t}\n\n\tgetSongUri(songInfo) {\n\t\tthis.props.addToQueue(songInfo);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (!this.state.isGuest) {\n\t\t\tthis.GetPlaylists();\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{!this.state.isGuest && (\n\t\t\t\t\t<div id=\"playlists\">\n\t\t\t\t\t\t<div className=\"upper-row\">\n\t\t\t\t\t\t\t{this.state.display_tracks === true && (\n\t\t\t\t\t\t\t\t<div onClick={() => this.setState({ display_tracks: false })}>\n\t\t\t\t\t\t\t\t\t<IconContext.Provider value={{ color: 'white', className: 'back-button' }}>\n\t\t\t\t\t\t\t\t\t\t<IoIosArrowBack\n\t\t\t\t\t\t\t\t\t\t\tsize={40}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ display_tracks: false })}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</IconContext.Provider>\n\t\t\t\t\t\t\t\t\tgo back\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"scrollable\">\n\t\t\t\t\t\t\t{this.state.playlists.length !== 0 &&\n\t\t\t\t\t\t\t\tthis.state.display_tracks === false &&\n\t\t\t\t\t\t\t\tthis.state.playlists.map((playlist, i) => {\n\t\t\t\t\t\t\t\t\treturn <PlaylistItem key={i} data={playlist} GetTracks={this.GetTracks} />;\n\t\t\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t\t{this.state.display_tracks === true &&\n\t\t\t\t\t\t\t\tthis.state.tracks.map((song, i) => {\n\t\t\t\t\t\t\t\t\treturn <Song key={i} data={song} getSongUri={this.getSongUri} />;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{this.state.isGuest && <div>Not logged in to spotify</div>}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport { apiUrl } from '../config';\nimport '../styles/Login.css';\n\nexport default function Login(props) {\n\treturn (\n\t\t<div id=\"login-buttons\">\n\t\t\t<div id=\"spotify-button\">\n\t\t\t\t<a\n\t\t\t\t\tclassName=\"button\"\n\t\t\t\t\t// href={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\n\t\t\t\t\t// \t'%20'\n\t\t\t\t\t// )}&response_type=token&show_dialog=true`}\n\t\t\t\t\thref={`${apiUrl}login`}\n\t\t\t\t>\n\t\t\t\t\tlogin to spotify\n\t\t\t\t</a>\n\t\t\t</div>\n\n\t\t\t<div id=\"guest-button\">\n\t\t\t\tor{' '}\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ cursor: 'pointer', fontWeight: 'bold', display: 'inline' }}\n\t\t\t\t\tonClick={() => props.guestLogin()}\n\t\t\t\t>\n\t\t\t\t\tcontinue as guest\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { Component } from 'react';\nimport getHashParams from './hash';\nimport Search from './components/Search';\nimport Queue from './components/Queue';\nimport Playback from './components/Playback';\nimport GuestPlayback from './components/GuestPlayback';\nimport JoinOrCreate from './components/JoinOrCreate';\nimport Playlists from './components/Playlists';\nimport Login from './components/Login';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\n\nimport './App.css';\nimport './styles/tabs.css';\n\nclass App extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\ttoken: null,\n\t\t\tloggedIn: false,\n\t\t\tsongInfo: null,\n\t\t\tparty: null,\n\t\t\tisHost: false,\n\t\t\tisGuest: false,\n\t\t\tmemberId: null\n\t\t};\n\n\t\tthis.queueElement = React.createRef();\n\t\tthis.playbackElement = React.createRef();\n\n\t\tthis.playSong = this.playSong.bind(this);\n\n\t\tthis.addToQueue = this.addToQueue.bind(this);\n\t\tthis.requestSong = this.requestSong.bind(this);\n\n\t\tthis.setParty = this.setParty.bind(this);\n\t\tthis.guestLogin = this.guestLogin.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tlet params = getHashParams();\n\t\tlet _token = params.access_token;\n\t\t// console.log(params.access_token);\n\t\t// console.log(params.refresh_token);\n\t\t// console.log(params);\n\n\t\tif (_token) {\n\t\t\t// Set token\n\t\t\tthis.setState({\n\t\t\t\ttoken: _token,\n\t\t\t\tloggedIn: true\n\t\t\t});\n\t\t}\n\t}\n\n\tsetParty(party_id, isHost, memberId) {\n\t\tthis.setState({ party: party_id, isHost, memberId });\n\t}\n\n\taddToQueue(songInfo) {\n\t\tthis.queueElement.current.enqueue(songInfo);\n\t}\n\n\trequestSong() {\n\t\tthis.queueElement.current.GetQueue(true);\n\t}\n\n\tplaySong(song) {\n\t\tthis.playbackElement.current.setSong(song);\n\t}\n\n\tguestLogin() {\n\t\tthis.setState({ loggedIn: true, isGuest: true });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<div className=\"App-head\">crowdpleaser</div>\n\t\t\t\t{/* if not logged in or in a party */}\n\t\t\t\t{!this.state.loggedIn && !this.state.party && <Login guestLogin={this.guestLogin} />}\n\n\t\t\t\t{/* if logged in, but not in a party */}\n\t\t\t\t{this.state.loggedIn &&\n\t\t\t\t!this.state.party && (\n\t\t\t\t\t<div className=\"App-content\">\n\t\t\t\t\t\t<JoinOrCreate\n\t\t\t\t\t\t\taccess_token={this.state.token}\n\t\t\t\t\t\t\tisGuest={this.state.isGuest}\n\t\t\t\t\t\t\tsetParty={this.setParty}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{/* if logged in and in a party */}\n\t\t\t\t{this.state.loggedIn &&\n\t\t\t\tthis.state.party && (\n\t\t\t\t\t<div className=\"App-content\">\n\t\t\t\t\t\tparty code: <div style={{ fontWeight: 'bold' }}>{this.state.party}</div>\n\t\t\t\t\t\t<Tabs forceRenderTabPanel={true}>\n\t\t\t\t\t\t\t<TabList>\n\t\t\t\t\t\t\t\t<Tab>up next</Tab>\n\t\t\t\t\t\t\t\t<Tab>search</Tab>\n\t\t\t\t\t\t\t\t<Tab>playlists</Tab>\n\t\t\t\t\t\t\t</TabList>\n\n\t\t\t\t\t\t\t<TabPanel>\n\t\t\t\t\t\t\t\t<Queue\n\t\t\t\t\t\t\t\t\tref={this.queueElement}\n\t\t\t\t\t\t\t\t\tplaySong={this.playSong}\n\t\t\t\t\t\t\t\t\tparty={this.state.party}\n\t\t\t\t\t\t\t\t\tisHost={this.state.isHost}\n\t\t\t\t\t\t\t\t\tmemberId={this.state.memberId}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t<TabPanel>\n\t\t\t\t\t\t\t\t<Search addToQueue={this.addToQueue} />\n\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t<TabPanel>\n\t\t\t\t\t\t\t\t<Playlists\n\t\t\t\t\t\t\t\t\taccess_token={this.state.token}\n\t\t\t\t\t\t\t\t\tisGuest={this.state.isGuest}\n\t\t\t\t\t\t\t\t\taddToQueue={this.addToQueue}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t{this.state.isHost && (\n\t\t\t\t\t\t\t<Playback\n\t\t\t\t\t\t\t\tref={this.playbackElement}\n\t\t\t\t\t\t\t\taccess_code={this.state.token}\n\t\t\t\t\t\t\t\trequestSong={this.requestSong}\n\t\t\t\t\t\t\t\tparty={this.state.party}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!this.state.isHost && (\n\t\t\t\t\t\t\t<GuestPlayback\n\t\t\t\t\t\t\t\tref={this.playbackElement}\n\t\t\t\t\t\t\t\trequestSong={this.requestSong}\n\t\t\t\t\t\t\t\tparty={this.state.party}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","// Get the hash of the url\n// const hash = window.location.hash.substring(1).split('&').reduce(function(initial, item) {\n// \tif (item) {\n// \t\tvar parts = item.split('=');\n// \t\tinitial[parts[0]] = decodeURIComponent(parts[1]);\n// \t}\n// \treturn initial;\n// }, {});\n// window.location.hash = '';\n//\n// export default hash;\n\nexport default function getHashParams() {\n\tvar hashParams = {};\n\tvar e,\n\t\tr = /([^&;=]+)=?([^&;]*)/g,\n\t\tq = window.location.hash.substring(1);\n\twhile ((e = r.exec(q))) {\n\t\thashParams[e[1]] = decodeURIComponent(e[2]);\n\t}\n\treturn hashParams;\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport * as serviceWorker from './serviceWorker';\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\nimport App from './App'\n\nconst routing = (\n    <Router>\n        <div>\n            <Route exact path=\"/\" component={App} />\n            <Route path=\"/home\" component={App}  /> \n        </div>\n    </Router>\n)\n\nReactDOM.render(routing, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}